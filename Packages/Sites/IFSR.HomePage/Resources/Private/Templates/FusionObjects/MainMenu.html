{namespace neos=Neos\Neos\ViewHelpers}
<f:for each="{items}" as="item">
    <f:if condition="{item.subItems}">
        <f:then>
            <li
                role="menuitem"
                data-is-click="false">
                <neos:link.node node="{item.node}"/>
                <ul class="vertical menu">
                    <f:for each="{item.subItems}" as="subItem">
                        <li>
                            <neos:link.node node="{subItem.node}"/>
                        </li>
                    </f:for>
                </ul>
            </li>
        </f:then>
        <f:else>
            <li role="menuitem" data-is-click="false">
                <neos:link.node node="{item.node}"/>
            </li>
        </f:else>
    </f:if>
</f:for>
